{"version":3,"sources":["webpack://@datitisev/dashboard/webpack/bootstrap","webpack://@datitisev/dashboard/external \"flarum.core.compat['app']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['helpers/icon']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Button']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/DashboardWidget']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Modal']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['extend']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/AdminNav']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/DashboardPage']\"","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/index.js","webpack://@datitisev/dashboard/./node_modules/compare-versions/index.js","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Switch']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@datitisev/dashboard/./node_modules/eventemitter3/index.js","webpack://@datitisev/dashboard/./node_modules/p-timeout/index.js","webpack://@datitisev/dashboard/./node_modules/p-finally/index.js","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/priority-queue.js","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/lower-bound.js","webpack://@datitisev/dashboard/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@datitisev/dashboard/./src/components/DashboardWidgetGraph.js","webpack://@datitisev/dashboard/./src/components/ExtensionUpdatesModal.js","webpack://@datitisev/dashboard/./src/components/DashboardExtensionInfoModal.js","webpack://@datitisev/dashboard/./src/components/DashboardWidgetExtensions.js","webpack://@datitisev/dashboard/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","EventEmitter","p_timeout_1","priority_queue_1","empty","timeoutError","TimeoutError","default","options","super","this","configurable","writable","assign","carryoverConcurrencyCount","intervalCap","Infinity","interval","concurrency","autoStart","queueClass","TypeError","undefined","Number","isFinite","_carryoverConcurrencyCount","_isIntervalIgnored","_intervalCap","_interval","_queue","_queueClass","_timeout","timeout","_throwOnTimeout","throwOnTimeout","_isPaused","_intervalCount","_pendingCount","_concurrency","_tryToStartAnother","_resolveEmpty","_resolveIdle","_onInterval","_initializeIntervalIfNeeded","_timeoutId","now","Date","_intervalId","delay","_intervalEnd","setTimeout","_onResumeInterval","size","clearInterval","_resolvePromises","canInitializeInterval","_isIntervalPaused","_doesIntervalAllowAnother","_doesConcurrentAllowAnother","emit","dequeue","setInterval","_processQueue","newConcurrency","fn","Promise","resolve","reject","enqueue","async","operation","error","_next","functions","all","map","function_","add","existingResolve","filter","length","milliseconds","semver","split","v","str","q","replace","patchIndex","indexOf","arr","substring","push","tryParse","isNaN","validate","version","test","Error","compareVersions","v1","v2","forEach","s1","s2","Math","max","n1","parseInt","n2","sp1","sp2","p1","p2","allowedOperators","operatorResMap","compare","operator","op","join","validateOperator","res","has","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","__proto__","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","ee","Array","listenerCount","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","on","removeAllListeners","off","prefixed","pFinally","message","pTimeout","promise","fallback","timer","cancel","then","clearTimeout","onFinally","val","err","lower_bound_1","run","element","priority","index","a","b","splice","item","shift","array","comparator","first","count","step","it","_inheritsLoose","subClass","superClass","constructor","DashboardWidgetGraph","init","months","app","translator","trans","content","data","userCount","discussionCount","postCount","className","graphView","keys","id","month","DashboardWidget","ExtensionUpdatesModal","loading","needsUpdate","errors","getPackagesAndVersions","title","updates","transChoice","style","extension","oldVersion","newVersion","ext","queue","PQueue","promises","values","extensions","startsWith","request","url","package","versions","sort","latestVersion","redraw","catch","status","addAll","Modal","DashboardExtensionInfoModal","props","isEnabled","source","support","extensionSettings","Button","component","icon","onclick","uninstall","hide","extra","description","authors","e","href","target","Switch","state","children","onchange","toggle","isDismissible","JSON","parse","settings","extensions_enabled","includes","enabled","forum","attribute","method","enabledArr","stringify","DashboardWidgetExtensions","modal","show","initializers","extend","AdminNav","items","remove","DashboardPage"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DashboardWidget'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/DashboardPage'];","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EventEmitter = require(\"eventemitter3\");\nconst p_timeout_1 = require(\"p-timeout\");\nconst priority_queue_1 = require(\"./priority-queue\");\nconst empty = () => { };\nconst timeoutError = new p_timeout_1.TimeoutError();\n/**\nPromise queue with concurrency control.\n*/\nclass PQueue extends EventEmitter {\n    constructor(options) {\n        super();\n        Object.defineProperty(this, \"_carryoverConcurrencyCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isIntervalIgnored\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_intervalCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"_intervalCap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_interval\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_intervalEnd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"_intervalId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_timeoutId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_queue\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_queueClass\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_pendingCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n        Object.defineProperty(this, \"_concurrency\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isPaused\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_resolveEmpty\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: empty\n        });\n        Object.defineProperty(this, \"_resolveIdle\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: empty\n        });\n        Object.defineProperty(this, \"_timeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_throwOnTimeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n        options = Object.assign({ carryoverConcurrencyCount: false, intervalCap: Infinity, interval: 0, concurrency: Infinity, autoStart: true, queueClass: priority_queue_1.default }, options\n        // TODO: Remove this `as`.\n        );\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval}\\` (${typeof options.interval})`);\n        }\n        this._carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;\n        this._intervalCap = options.intervalCap;\n        this._interval = options.interval;\n        this._queue = new options.queueClass();\n        this._queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        this._timeout = options.timeout;\n        this._throwOnTimeout = options.throwOnTimeout === true;\n        this._isPaused = options.autoStart === false;\n    }\n    get _doesIntervalAllowAnother() {\n        return this._isIntervalIgnored || this._intervalCount < this._intervalCap;\n    }\n    get _doesConcurrentAllowAnother() {\n        return this._pendingCount < this._concurrency;\n    }\n    _next() {\n        this._pendingCount--;\n        this._tryToStartAnother();\n    }\n    _resolvePromises() {\n        this._resolveEmpty();\n        this._resolveEmpty = empty;\n        if (this._pendingCount === 0) {\n            this._resolveIdle();\n            this._resolveIdle = empty;\n        }\n    }\n    _onResumeInterval() {\n        this._onInterval();\n        this._initializeIntervalIfNeeded();\n        this._timeoutId = undefined;\n    }\n    _isIntervalPaused() {\n        const now = Date.now();\n        if (this._intervalId === undefined) {\n            const delay = this._intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this._timeoutId === undefined) {\n                    this._timeoutId = setTimeout(() => {\n                        this._onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    _tryToStartAnother() {\n        if (this._queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this._intervalId) {\n                clearInterval(this._intervalId);\n            }\n            this._intervalId = undefined;\n            this._resolvePromises();\n            return false;\n        }\n        if (!this._isPaused) {\n            const canInitializeInterval = !this._isIntervalPaused();\n            if (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {\n                this.emit('active');\n                this._queue.dequeue()();\n                if (canInitializeInterval) {\n                    this._initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    _initializeIntervalIfNeeded() {\n        if (this._isIntervalIgnored || this._intervalId !== undefined) {\n            return;\n        }\n        this._intervalId = setInterval(() => {\n            this._onInterval();\n        }, this._interval);\n        this._intervalEnd = Date.now() + this._interval;\n    }\n    _onInterval() {\n        if (this._intervalCount === 0 && this._pendingCount === 0 && this._intervalId) {\n            clearInterval(this._intervalId);\n            this._intervalId = undefined;\n        }\n        this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;\n        this._processQueue();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    _processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this._tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this._concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this._concurrency = newConcurrency;\n        this._processQueue();\n    }\n    /**\n    Adds a sync or async task to the queue. Always returns a promise.\n    */\n    async add(fn, options = {}) {\n        return new Promise((resolve, reject) => {\n            const run = async () => {\n                this._pendingCount++;\n                this._intervalCount++;\n                try {\n                    const operation = (this._timeout === undefined && options.timeout === undefined) ? fn() : p_timeout_1.default(Promise.resolve(fn()), (options.timeout === undefined ? this._timeout : options.timeout), () => {\n                        if (options.throwOnTimeout === undefined ? this._throwOnTimeout : options.throwOnTimeout) {\n                            reject(timeoutError);\n                        }\n                        return undefined;\n                    });\n                    resolve(await operation);\n                }\n                catch (error) {\n                    reject(error);\n                }\n                this._next();\n            };\n            this._queue.enqueue(run, options);\n            this._tryToStartAnother();\n        });\n    }\n    /**\n    Same as `.add()`, but accepts an array of sync or async functions.\n\n    @returns A promise that resolves when all functions are resolved.\n    */\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this._isPaused) {\n            return this;\n        }\n        this._isPaused = false;\n        this._processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this._isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this._queue = new this._queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this._queue.size === 0) {\n            return;\n        }\n        return new Promise(resolve => {\n            const existingResolve = this._resolveEmpty;\n            this._resolveEmpty = () => {\n                existingResolve();\n                resolve();\n            };\n        });\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this._pendingCount === 0 && this._queue.size === 0) {\n            return;\n        }\n        return new Promise(resolve => {\n            const existingResolve = this._resolveIdle;\n            this._resolveIdle = () => {\n                existingResolve();\n                resolve();\n            };\n        });\n    }\n    /**\n    Size of the queue.\n    */\n    get size() {\n        return this._queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        return this._queue.filter(options).length;\n    }\n    /**\n    Number of pending promises.\n    */\n    get pending() {\n        return this._pendingCount;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this._isPaused;\n    }\n    /**\n    Set the timeout for future operations.\n    */\n    set timeout(milliseconds) {\n        this._timeout = milliseconds;\n    }\n    get timeout() {\n        return this._timeout;\n    }\n}\nexports.default = PQueue;\n","/* global define */\n(function (root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.compareVersions = factory();\n  }\n}(this, function () {\n\n  var semver = /^v?(?:\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+))?(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n\n  function indexOrEnd(str, q) {\n    return str.indexOf(q) === -1 ? str.length : str.indexOf(q);\n  }\n\n  function split(v) {\n    var c = v.replace(/^v/, '').replace(/\\+.*$/, '');\n    var patchIndex = indexOrEnd(c, '-');\n    var arr = c.substring(0, patchIndex).split('.');\n    arr.push(c.substring(patchIndex + 1));\n    return arr;\n  }\n\n  function tryParse(v) {\n    return isNaN(Number(v)) ? v : Number(v);\n  }\n\n  function validate(version) {\n    if (typeof version !== 'string') {\n      throw new TypeError('Invalid argument expected string');\n    }\n    if (!semver.test(version)) {\n      throw new Error('Invalid argument not valid semver (\\''+version+'\\' received)');\n    }\n  }\n\n  function compareVersions(v1, v2) {\n    [v1, v2].forEach(validate);\n\n    var s1 = split(v1);\n    var s2 = split(v2);\n\n    for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {\n      var n1 = parseInt(s1[i] || 0, 10);\n      var n2 = parseInt(s2[i] || 0, 10);\n\n      if (n1 > n2) return 1;\n      if (n2 > n1) return -1;\n    }\n\n    var sp1 = s1[s1.length - 1];\n    var sp2 = s2[s2.length - 1];\n\n    if (sp1 && sp2) {\n      var p1 = sp1.split('.').map(tryParse);\n      var p2 = sp2.split('.').map(tryParse);\n\n      for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n        if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n        if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n        if (p1[i] > p2[i]) return 1;\n        if (p2[i] > p1[i]) return -1;\n      }\n    } else if (sp1 || sp2) {\n      return sp1 ? -1 : 1;\n    }\n\n    return 0;\n  };\n\n  var allowedOperators = [\n    '>',\n    '>=',\n    '=',\n    '<',\n    '<='\n  ];\n\n  var operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1]\n  };\n\n  function validateOperator(op) {\n    if (typeof op !== 'string') {\n      throw new TypeError('Invalid operator type, expected string but got ' + typeof op);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n      throw new TypeError('Invalid operator, expected one of ' + allowedOperators.join('|'));\n    }\n  }\n\n  compareVersions.validate = function(version) {\n    return typeof version === 'string' && semver.test(version);\n  }\n\n  compareVersions.compare = function (v1, v2, operator) {\n    // Validate operator\n    validateOperator(operator);\n\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    var res = compareVersions(v1, v2);\n    return operatorResMap[operator].indexOf(res) > -1;\n  }\n\n  return compareVersions;\n}));\n","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\nconst pFinally = require('p-finally');\n\nclass TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\nconst pTimeout = (promise, milliseconds, fallback) => new Promise((resolve, reject) => {\n\tif (typeof milliseconds !== 'number' || milliseconds < 0) {\n\t\tthrow new TypeError('Expected `milliseconds` to be a positive number');\n\t}\n\n\tif (milliseconds === Infinity) {\n\t\tresolve(promise);\n\t\treturn;\n\t}\n\n\tconst timer = setTimeout(() => {\n\t\tif (typeof fallback === 'function') {\n\t\t\ttry {\n\t\t\t\tresolve(fallback());\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\tif (typeof promise.cancel === 'function') {\n\t\t\tpromise.cancel();\n\t\t}\n\n\t\treject(timeoutError);\n\t}, milliseconds);\n\n\t// TODO: Use native `finally` keyword when targeting Node.js 10\n\tpFinally(\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tpromise.then(resolve, reject),\n\t\t() => {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t);\n});\n\nmodule.exports = pTimeout;\n// TODO: Remove this for the next major release\nmodule.exports.default = pTimeout;\n\nmodule.exports.TimeoutError = TimeoutError;\n","'use strict';\nmodule.exports = (promise, onFinally) => {\n\tonFinally = onFinally || (() => {});\n\n\treturn promise.then(\n\t\tval => new Promise(resolve => {\n\t\t\tresolve(onFinally());\n\t\t}).then(() => val),\n\t\terr => new Promise(resolve => {\n\t\t\tresolve(onFinally());\n\t\t}).then(() => {\n\t\t\tthrow err;\n\t\t})\n\t);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lower_bound_1 = require(\"./lower-bound\");\nclass PriorityQueue {\n    constructor() {\n        Object.defineProperty(this, \"_queue\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: []\n        });\n    }\n    enqueue(run, options) {\n        options = Object.assign({ priority: 0 }, options);\n        const element = {\n            priority: options.priority,\n            run\n        };\n        if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n            this._queue.push(element);\n            return;\n        }\n        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n        this._queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this._queue.shift();\n        return item && item.run;\n    }\n    filter(options) {\n        return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n    }\n    get size() {\n        return this._queue.length;\n    }\n}\nexports.default = PriorityQueue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Port of lower_bound from http://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nfunction lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = (count / 2) | 0;\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\nexports.default = lowerBound;\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import app from 'flarum/app';\nimport DashboardWidget from 'flarum/components/DashboardWidget';\n\nexport default class DashboardWidgetGraph extends DashboardWidget {\n    init() {\n        super.init();\n\n        this.months = [\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.january'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.february'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.march'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.april'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.may'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.june'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.july'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.august'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.september'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.october'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.november'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.december'),\n        ];\n    }\n\n    content() {\n        const { userCount, discussionCount, postCount } = app.data['datitisev-dashboard.data'];\n\n        return (\n            <div className=\"DashboardGraph--Categories\">\n                <div className=\"DashboardGraph--Category Category--Users\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.users')}\n                    <br />\n                    <span className=\"number\">{userCount}</span>\n                </div>\n                <div className=\"DashboardGraph--Category Category--Discussions\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.discussions')}\n                    <br />\n                    <span className=\"number\">{discussionCount}</span>\n                </div>\n                <div className=\"DashboardGraph--Category Category--Posts\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.posts')}\n                    <br />\n                    <span className=\"number\">{postCount}</span>\n                </div>\n            </div>\n        );\n    }\n\n    className() {\n        return 'DashboardGraph';\n    }\n\n    graphView() {\n        return (\n            <div className=\"DashboardGraph--Graph\">\n                {Object.keys(this.months).map((id) => {\n                    const month = months[id];\n                    return (\n                        <div className=\"DashboardGraph--Month\">\n                            <div className=\"bars\">BAR</div>\n                            <div className=\"name\">{month}</div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    }\n}\n","import Modal from 'flarum/components/Modal';\nimport app from 'flarum/app';\nimport PQueue from 'p-queue';\nimport * as compareVersions from 'compare-versions';\n\nexport default class ExtensionUpdatesModal extends Modal {\n    init() {\n        this.loading = true;\n        this.needsUpdate = [];\n\n        this.errors = [];\n\n        this.getPackagesAndVersions();\n    }\n\n    className() {\n        return 'DashboardSettingsModal ExtensionUpdatesModal Modal--large';\n    }\n\n    title() {\n        const updates = this.needsUpdate.length;\n\n        if (updates > 0) {\n            return app.translator.transChoice('datitisev-dashboard.admin.dashboard.updates.available', updates, { count: updates });\n        }\n\n        if (this.loading) {\n            return app.translator.trans('datitisev-dashboard.admin.dashboard.updates.checking');\n        } else if (updates === 0) {\n            return app.translator.trans('datitisev-dashboard.admin.dashboard.updates.none');\n        }\n    }\n\n    content() {\n        return (\n            <div className=\"PermissionGrid container\">\n                <table className=\"PermissionGrid\" style={!this.errors && this.needsUpdate.length === 0 ? 'display: none' : ''}>\n                    <thead>\n                        <tr>\n                            <th>\n                                Extension\n                                {this.loading && (\n                                    <span>\n                                        &nbsp;&nbsp;\n                                        <i className=\"fas fa-circle-notch fa-spin\" />\n                                    </span>\n                                )}\n                            </th>\n                            <th>Version Installed</th>\n                            <th>New Version</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {Object.keys(this.needsUpdate).map((id) => {\n                            const extension = this.needsUpdate[id];\n                            return (\n                                <tr className=\"PermissionGrid-child\">\n                                    <td>{extension.name}</td>\n                                    <td>{extension.oldVersion}</td>\n                                    <td>{extension.newVersion}</td>\n                                </tr>\n                            );\n                        })}\n\n                        {this.errors &&\n                            this.errors.map((ext) => (\n                                <tr className=\"ExtensionUpdatesModal--Error PermissionGrid-child\">\n                                    <td>{ext.name}</td>\n                                    <td>{ext.version}</td>\n                                    <td>{ext.error}</td>\n                                </tr>\n                            ))}\n                    </tbody>\n                </table>\n                <div style={this.needsUpdate.length === 0 && !this.errors && !this.loading ? '' : 'display: none'}>\n                    <h3>{app.translator.trans('datitisev-dashboard.admin.dashboard.updates.none')}</h3>\n                </div>\n            </div>\n        );\n    }\n\n    getPackagesAndVersions() {\n        const queue = new PQueue({\n            intervalCap: 2,\n            interval: 500,\n        });\n        const extensions = Object.values(app.data.extensions).filter((v) => !v.version.startsWith('dev'));\n\n        const promises = extensions.map((extension) => () =>\n            m\n                .request({\n                    url: `https://packagist.org/packages/${extension.name}.json`,\n                })\n                .then((data) => {\n                    data = data.package;\n\n                    const versions = Object.keys(data.versions)\n                        .filter((v) => !v.startsWith('dev'))\n                        .sort(compareVersions);\n                    const latestVersion = versions[versions.length - 1];\n                    const version = extension.version;\n\n                    if (latestVersion && version !== latestVersion) {\n                        this.needsUpdate.push({\n                            name: extension.name,\n                            oldVersion: version,\n                            newVersion: latestVersion,\n                        });\n                    }\n\n                    m.redraw();\n                })\n                .catch((err) => {\n                    if (!err || typeof err !== 'object' || !err.message) return false;\n\n                    this.errors.push({\n                        name: extension.name,\n                        version: extension.version,\n                        error: err.status ? `${err.status}: ${err.message}` : err.message,\n                    });\n                })\n        );\n\n        queue.addAll(promises).then(() => (this.loading = false));\n    }\n}\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport icon from 'flarum/helpers/icon';\nimport Switch from 'flarum/components/Switch';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\n\nexport default class DashboardExtensionInfoModal extends Modal {\n    init() {\n        super.init();\n\n        this.extension = this.props.extension;\n    }\n\n    className() {\n        return 'DashboardExtensionInfoModal Modal--large';\n    }\n\n    content() {\n        const extension = this.extension;\n        const isEnabled = this.isEnabled(extension.id);\n\n        const source = (extension.source && extension.source.url) || (extension.support && extension.support.source);\n\n        return (\n            <div className=\"DashboardExtensionInfo\">\n                <div className=\"Modal-close App-backControl\">\n                    {this.loading && <LoadingIndicator className=\"LoadingIndicator--inline\" />}\n                    {isEnabled &&\n                        app.extensionSettings[extension.id] &&\n                        Button.component({\n                            icon: 'fas fa-cog',\n                            onclick: () => app.extensionSettings[extension.id](),\n                            className: 'Button Button--icon Button--link',\n                        })}\n                    {!isEnabled &&\n                        Button.component({\n                            icon: 'fas fa-unlink',\n                            onclick: this.uninstall.bind(this),\n                            className: 'Button Button--icon Button--link',\n                        })}\n                    {Button.component({\n                        icon: 'fas fa-times',\n                        onclick: this.hide.bind(this),\n                        className: 'Button Button--icon Button--link',\n                    })}\n                </div>\n\n                <div className=\"DashboardExtensionInfo-Main\">\n                    <spam className=\"DashboardExtensionInfoMain-icon\" style={extension.icon}>\n                        {extension.icon ? icon(extension.icon.name) : ''}\n                    </spam>\n                    <h3 className=\"DashboardExtensionInfoMain-title\">{extension.extra['flarum-extension'].title}</h3>\n                    <span className=\"DashboardExtensionInfoMain-name\">{extension.name}</span>\n                    <span className=\"DashboardExtensionInfoMain-version\">{extension.version}</span>\n                    <p className=\"DashboardExtensionInfoMain-description\">{extension.description || ''}</p>\n                    <p className=\"DashboardExtensionInfoMain-useful\">\n                        <p className=\"DashboardExtensionInfoMainUseful-author\">\n                            {extension.authors && extension.authors.length === 1 ? icon('fas fa-user') : icon('fas fa-users')}\n                            &nbsp;\n                            {extension.authors ? extension.authors.map((e) => e.name).join(', ') : 'Unknown'}\n                        </p>\n                        <p className=\"DashboardExtensionInfoMainUseful-source\">\n                            {icon('fas fa-code')}\n                            &nbsp;\n                            {source ? (\n                                <a href={source} target=\"_blank\">\n                                    Source\n                                </a>\n                            ) : (\n                                'Unknown'\n                            )}\n                        </p>\n                    </p>\n                    <div className=\"DashboardExtensionInfoMain-enabled\">\n                        {Switch.component({\n                            state: isEnabled,\n                            children: isEnabled ? 'Enabled' : 'Disabled',\n                            onchange: this.toggle.bind(this, extension.id),\n                        })}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    isDismissible() {\n        return true;\n    }\n\n    isEnabled(name) {\n        const enabled = JSON.parse(app.data.settings.extensions_enabled);\n\n        return enabled.includes(name);\n    }\n\n    toggle(id) {\n        const enabled = this.isEnabled(id);\n\n        app.request({\n            url: `${app.forum.attribute('apiUrl')}/extensions/${id}`,\n            method: 'PATCH',\n            data: { enabled: !enabled },\n        }).then(() => {\n            const enabledArr = JSON.parse(app.data.settings.extensions_enabled);\n            if (!enabled) enabledArr.push(id);\n            else enabledArr.splice(enabledArr.indexOf(id), 1);\n\n            app.data.settings.extensions_enabled = JSON.stringify(enabledArr);\n\n            m.redraw();\n        });\n    }\n\n    uninstall() {\n        this.loading = true;\n\n        return app\n            .request({\n                url: `${app.forum.attribute('apiUrl')}/extensions/${this.extension.id}`,\n                method: 'DELETE',\n            })\n            .then(() => {\n                this.loading = false;\n                m.redraw();\n            });\n    }\n}\n","import Button from 'flarum/components/Button';\nimport DashboardWidget from 'flarum/components/DashboardWidget';\nimport icon from 'flarum/helpers/icon';\n\nimport ExtensionUpdatesModal from './ExtensionUpdatesModal';\nimport DashboardExtensionInfoModal from './DashboardExtensionInfoModal';\n\nexport default class DashboardWidgetExtensions extends DashboardWidget {\n    content() {\n        const extensions = app.data.extensions;\n\n        return (\n            <div>\n                <div className=\"DashboardExtensions--Title\">\n                    <span>{app.translator.trans('core.admin.nav.extensions_button')}</span>\n\n                    {Button.component({\n                        children: icon('fas fa-upload'),\n                        className: 'Button',\n                        onclick: () => app.modal.show(new ExtensionUpdatesModal()),\n                    })}\n                </div>\n\n                <div className=\"DashboardExtensions--List\">\n                    {Object.values(extensions).map((extension) => (\n                        <li\n                            className={'DashboardExtensions--Item ' + (this.isEnabled(extension.id) ? 'enabled' : 'disabled')}\n                            onclick={() =>\n                                app.modal.show(\n                                    new DashboardExtensionInfoModal({\n                                        extension,\n                                    })\n                                )\n                            }\n                        >\n                            <div className=\"DashboardExtensionsItem-content\">\n                                <spam className=\"DashboardExtensionsItem-icon\" style={extension.icon}>\n                                    {extension.icon ? icon(extension.icon.name) : ''}\n                                </spam>\n                                <label className=\"DashboardExtensionsItem-title\">{extension.extra['flarum-extension'].title}</label>\n                            </div>\n                        </li>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n\n    isEnabled(name) {\n        const enabled = JSON.parse(app.data.settings.extensions_enabled);\n\n        return enabled.includes(name);\n    }\n\n    className() {\n        return 'DashboardExtensions';\n    }\n}\n","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport DashboardPage from 'flarum/components/DashboardPage';\n\nimport WidgetGraph from './components/DashboardWidgetGraph';\nimport WidgetExtensions from './components/DashboardWidgetExtensions';\n\napp.initializers.add('datitisev/dashboard', () => {\n    extend(AdminNav.prototype, 'items', (items) => {\n        items.remove('extensions');\n    });\n\n    extend(DashboardPage.prototype, 'availableWidgets', (items) => {\n        items.push(<WidgetGraph />);\n        items.push(<WidgetExtensions />);\n    });\n});\n"],"sourceRoot":""}